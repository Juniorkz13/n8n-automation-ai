{
  "name": "gmail-auto-reply-llm",
  "nodes": [
    {
      "parameters": {
        "pollTimes": {
          "item": [
            {
              "mode": "every5Minutes"
            }
          ]
        },
        "simple": false,
        "filters": {},
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTrigger",
      "typeVersion": 1.3,
      "position": [
        -656,
        208
      ],
      "name": "Gmail Trigger",
      "id": "35e5036b-d408-4c9a-b9ea-ad0f7c8f8c28",
      "credentials": {
        "gmailOAuth2": {
          "id": "9PZHqggup4fy0TFm",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "leftValue": "={{ $json.from.value[0].address }}",
              "rightValue": "junior.13.kz@hotmail.com",
              "operator": {
                "type": "string",
                "operation": "equals"
              },
              "id": "6f24e474-740c-4fb0-b193-ad46e8684c28"
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -448,
        208
      ],
      "name": "IF - Test Email Only",
      "id": "eae62073-2b55-4bbc-ae83-6e693c2a9a07"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": false,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "leftValue": "={{ $json.text }}",
              "rightValue": "(curso|valor|preço|inscrição|ementa|treinamento|programa)",
              "operator": {
                "type": "string",
                "operation": "regex"
              },
              "id": "ee73e667-6324-4061-87c6-686f8a7394d6"
            }
          ],
          "combinator": "and"
        },
        "options": {
          "ignoreCase": true
        }
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        -224,
        208
      ],
      "name": "IF - Valid Intent",
      "id": "ed5b4bc3-56ae-4778-be8f-4236ba3ed898"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.text }}",
        "options": {
          "systemMessage": "Você é um agente comercial educado, objetivo e profissional da Hashtag Treinamentos.\n\nResponda apenas perguntas relacionadas aos cursos e treinamentos.\nNunca invente informações.\nCaso a pergunta não esteja relacionada aos cursos, responda pedindo esclarecimento.\n\nSempre responda em HTML válido usando <br>, <b> e <ul><li> quando necessário.\nLimite a resposta a no máximo 200 palavras.\nResponda no mesmo idioma da pergunta.\n\nBase de conhecimento:\n1. QUE SERVIÇO VOCÊS SÃO ESPECIALIZADOS?\nAqui na Hashtag você encontra  treinamentos online  voltados para o mercado de trabalho.\nOferecemos cursos das principais ferramentas utilizadas profissionalmente, que são:\nExcel\nPower BI\nPython\nInteligência Artificial\nJavaScript\nHTML & CSS supor\nSQL\nPower Automate\nVBA\nPowerPoint\nCiência de Dados\nInclusive, temos mais de 170.000 alunos na Hashtag\nMas me conta, qual desses treinamentos desperta mais seu interesse?\n2. QUAIS CURSOS DE PROGRAMAÇÃO A HASHTAG POSSUI?\nOpa, aqui na Hashtag temos cursos das linguagens de programação mais importantes e usadas no mercado de trabalho que são:\nPython\nJavaScript\nHTML & CSS\nSQL\nFull Stack\nCiência de Dados\nMas me conta, qual desses treinamentos desperta mais seu interesse?\n3. COMO SEI QUE ESSA É UMA EMPRESA CONFIÁVEL?\nOpa, vou compartilhar alguns dados com você para reforçar o quanto somos uma empresa confiável e comprometida, tá bem?\nTemos mais de 170 mil alunos treinados em todo o Brasil.\nNo nosso canal no YouTube, temos mais de 1,5 milhão de inscritos. É só procurar por “Hashtag Treinamentos”. Por lá você verá diversas avaliações positivas, tanto dos nossos seguidores quanto dos nossos alunos.\nPossuímos selo de confiança do Reclame Aqui. Com uma reputação avaliada como ótima pelos consumidores e com uma nota de 9.1.\nTodos os nossos programas são extremamente didáticos, com índice de satisfação superior a 85% e levam qualquer um do básico até o nível Impressionador, que está além do avançado\nAlém dos cursos próprios, a Hashtag já realizou treinamentos in-company em grandes empresas como LinkedIn, L’Oreal, Coca-Cola, AirFrance, Rappi, Nestlé, Grupo Soma, Globo, Repsol, Electrolux e centenas de outras empresas.\nEntão, pode ter certeza de que está falando com uma empresa de confiança e referência no mercado!\n4. TEM AULA OU CURSO PRESENCIAL?\nNo momento nossos cursos são com aulas gravadas e possuem um acesso de 12 meses.\nEntão durante todo esse período, você poderia assistir e reassistir as aulas gravadas quantas vezes e quando quiser no seu próprio tempo. Sem se preocupar com o horário.\nE para melhorar mais ainda, no pacote dos cursos está incluso suporte a dúvidas da nossa equipe de experts. Então de segunda à sexta você pode tirar qualquer dúvida sobre a ferramenta do curso e em 24 horas alguém da nossa equipe vai te responder de forma individual para te ajudar.\nAlém disso, aqui na Hashtag trabalhamos com uma garantia incondicional de 7 dias. Isso significa que durante os 7 primeiros dias, você poderia testar ilimitadamente nosso curso e verificar se consegue se adaptar. Caso ache que o investimento não foi prov eitoso, você pode requisitar o reembolso integral do valor pago. A ideia é deixar você sem nenhum risco sobre a decisão que está tomando.\nMas me conta, por acaso você estaria buscando algum curso específico?\n5. NÃO TEMOS PREVISÃO PARA UMA TURMA PRESENCIAL\nNo momento não temos previsão para uma turma presencial. Por enquanto o nosso foco está sendo 100% nos nossos cursos online\n6. QUAIS AS REDES SOCIAIS?\nVocê pode nos acompanhar nas seguintes páginas de Instagram\nHashtag Treinamentos: https://www.instagram.com/hashtagtreinamentos/\nHashtag Programação: https://www.instagram.com/hashtagprogramacao/\nHashtag Inglês: https://www.instagram.com/hashtag.ingles/\n7. QUAIS SÃO OS EVENTOS GRATUITOS?\nOpaaa, além dos nossos vídeos gratuitos no YouTube, também temos eventos 100% online e gratuitos\nEventos com 4 aulas ao vivo (com 2h de duração cada aula) e conteúdos que vão te ajudar a impressionador e se tornar uma referência no mercado de trabalho: Jornada Python,Jornada Inteligência Artificial e Intensivão de Power BI.\nEventos com 1 aula online (com 1h30min de duração) com conteúdo direto ao ponto para te ajudar a se destacar: Masterclass Análise de Dados, Masterclass Inteligência Artificial e Masterclass Ciência de Dados.\nLives ao vivo de apresentações dos nossos cursos impressionadores: Live Comunidade\nImpressionadora, Live SQL Impressionador e Live Full Stack Impressionador.\nCOMUNIDADE IMPRESSIONADORA\n \n8. O QUE É A COMUNIDADE IMPRESSIONADORA?\nPARTE 1:\nA Comunidade é o nosso pacote especial de cursos completos e impressionadores. Você vai encontrar tudo o que você precisa saber para se destacar no Mercado de Trabalho, usando as ferramentas e linguagens de programação mais importantes\nExcel:\nPower BI\nInteligência Artificial\nVBA\nPowerPoint\nPython\nSQL\nJavaScript\nHTML & CSS\nPower Automate\nPARTE 2:\nVocê terá 12 meses de acesso irrestrito a todos estes cursos  - e a vários outros bônus – com possibilidade de renovação no fim desse período\nMas para melhorar mais ainda, você terá acesso não só aos cursos completos, mas também ao material didático complementar de cada um deles, certificado de conclusão para cada curso finalizado e ao suporte de dúvidas com nossa equipe de especialistas e com a  nossa IA, o Hashbot.\nLiteralmente tudo o que você precisa para virar uma referência em qualquer empresa\nPARTE 3:\nVou deixar aqui no nosso chat o link da página com todas as informações sobre a Comunidade Impressionadora\nhttps://blp.hashtagtreinamentos.com/comunidade-impressionadora/pg-inscricao-comunidade-impressionadora?src=lescom-jv\nSeria bacana você dar uma olhadinha até pra entender melhor como funciona o pacote e qual é a proposta do nosso treinamento. E, se você quiser, pode fazer sua inscrição por esse link mesmo!\nCaso você tenha qualquer dúvida com as informações do site, corre aqui que eu te explico tudo que precisar, tá bem?\n9. QUAIS SÃO TODOS OS CURSOS COMPLETOS DA COMUNIDADE?\nCursos impressionadores: Excel, Power BI, Python, Inteligência Artificial, Análise de Dados, HTML & CSS, JavaScript, SQL, Power Automate, Full Stack, Front End, VBA e PowerPoint;\n10. PODE ME ENVIAR AS EMENTAS DOS CURSOS COMPLETOS DA COMUNIDADE?\nPower BI : https://tinyurl.com/ementa-powerbi\nExcel : https://tinyurl.com/ementa-excel\nPython: https://tinyurl.com/ementa-python\nInteligência Artificial : https://tinyurl.com/ementa-ia\nHTML & CSS : https://tinyurl.com/ementa-htmlcss\nJavaScript : https://tinyurl.com/ementa-javascript\nSQL: https://tinyurl.com/ementa-sql\nPower Automate : https://tinyurl.com/ementa-powerautomate\nVBA:  https://tinyurl.com/ementa-vba\nApresentações/Power Point : https://tinyurl.com/ementa-powerpoint\n11. PODE ME ENVIAR AS EMENTAS DOS BÔNUS?\nPower Apps: https://tinyurl.com/ementa-powerapps\nAnálise de Dados: https://tinyurl.com/ementa-analisededados\nFull Stack: https://tinyurl.com/ementa-fullstack\nAWS: https://tinyurl.com/ementa-aws-impressionador\n12. MAIS DETALHES SOBRE OS CURSOS COMPLETOS DA COMUNIDADE:\nPARTE 1:\nVou resumir para você cada um dos cursos completos da Comunidade Impressionadora:\nO Power BI Impressionador é o nosso curso completo de Power BI, com mais de 112h de conteúdo e mais de 400 aulas, desde o nível básico, te ensinando a parte de importação de dados e ETL, até o nível avançado, com criação de dashboards, Power BI Online e DA X avançado.\nO Excel Impressionador é o nosso curso completo de Excel, que possui 110h de conteúdo e mais de 500 aulas, do básico ao avançado. Nele, você aprenderá desde conceitos introdutórios até a criação de planilhas e dashboards com recursos avançados.\nO Python Impressionador é o nosso curso completo de Python, com mais de 150h de conteúdo e maisde 600 aulas, te ensinando desde o básico do básico em Python, até a parte de projetos mais avançados de automação web, análise de dados, desenvolvimento de sit es e aplicativos. Não só isso, como você vai sair do curso com um portfólio de projetos completo!\nPARTE 2:\nO Inteligência Artificial Impressionador possui mais de 40h de conteúdo e mais de 170 aulas, para te ajudar a desvendar o mundo da Inteligência Artificial. No curso, apresentamos as principais IAs e aplicações reais do mercado de trabalho. Não só isso, com o também aprofundamos configurações avançadas em IAs tanto gratuitas, quanto pagas.\nO JavaScript Impressionador, é o nosso curso completo de JavaScript, atualmente com mais de 500 aulas e 117h de conteúdo. Você vai aprender não só os fundamentos básicos, intermediários e avançados de JavaScript, como também vai aprender sobre Back -end, Fr ont-end, Full Stack, a integrar o JavaScript com bancos de dados, além de Node JS,  React JS e muito mais.\nO HTML & CSS é o nosso curso completo de HTML & CSS, atualmente com mais de 295 aulas e 72h de conteúdo. Você vai aprender não só os fundamentos básicos, intermediários e avançados de HTML e CSS, como também vai aprender a integrar com os principais frameworks.\nPARTE 3:\nO Análise  de Dados Impressionador possui mais de 180h de conteúdo e mais de 900 aulas. Vamos te ensinar tudo o que você precisa para dominar as habilidades de Análise de Dados com Excel, PowerBI, SQL e Python. O programa é realmente completo e você vai aprender a resolver desafios reais de Análise de Dados em diferentes áreas. Por isso, vamos te mostrar os 3 pilares da Análise de Dados:\nFerramenta de Análises e Visualização de Dados + Programação + Negócios.\nNo Power Automate Impressionador você vai aprender a usar todas as funcionalidades do PowerAutomate e integrações com as ferramentas mais importantes do mercado. Não só isso, como também vamos construir projetos práticos, justamente com a realidade do dia  a dia das empresas.\nAtualmente, o curso possui mais de 100 aulas, totalizando 14 horas de conteúdo. Mas isso é só o começo! A cada mês, vamos liberar novas aulas.\nO SQL Impressionador, o nosso curso completo de SQL, com 89h de conteúdo e mais de 700 aulas passo a passo, te ensinando a utilizar o SQL nos principais sistemas de bancos de dados (SQL Server,MySQL, PostgreSQL e Oracle) além de projetos de Integração do SQL com o Power BI e Excel.\nPARTE 4:\nO VBA Impressionador é o nosso curso completo de VBA, e conta com mais de 80h de conteúdo e mais de 400 aulas. O VBA é a linguagem de programação para automatização de planilhas, muito utilizada para melhorar ainda mais a utilização das suas planilhas em Excel.\nO PowerPoint Impressionador é o nosso curso completo de PowerPoint, com 27h de conteúdo e mais de 100 aulas bem passo a passo, que vão te ensinar não só a utilizar\na ferramenta, como também disponibilizar técnicas para melhorar suas apresentações.\n13. PARA QUE SERVE CADA FERRAMENTA DOS CURSOS COMPLETOS?\nPARTE 1:\nO Power BI é uma ferramenta da Microsoft para Business Intelligence. Muito utilizada para apresentação e análise de dados. Seu principal objetivo é a criação de dashboards e apresentações gráficas para mostrar resultados de um negócio. O Power BI é uma fer ramenta que tem diversos recursos e ferramentas avançadas para criação de análises e cálculos relacionados à análise dos dados.\nO Excel é de longe a ferramenta mais utilizada pelas empresas. É muito difícil você encontrar uma empresa que não utilize uma planilha em Excel para criação, controle e gerenciamento de dados.\nO Python é a linguagem de programação que mais cresce no mundo. O objetivo do Python é criar códigos que tornam automáticas as tarefas de uma empresa. Ou seja, com uma série de comandos é possível executar qualquer tarefa, desde enviar um e -mail de forma a utomática até criar aplicativos para uma determinada atividade. Além disso, com o Python também é possível desenvolver e criar diversos sites e sistemas.\nPARTE 2:\nO HTML e CSS são as linguagens de programação utilizadas para criar e estilizar sites na WEB. Todo e qualquer site existente hoje na Internet, utiliza essas duas linguagens em seus códigos. O HTML atua na parte da construção da estrutura do site, já o CSS atua na estilização das páginas. Então, enquanto o HTML monta o esqueleto da página, o CSS deixa a página bonita e visual. O HTML e o CSS atuam em conjunto para criar páginas bonitas e bem estruturadas.\nO JavaScript é a linguagem de programação que é usada por 98,3% dos sites e te permite ser umdesenvolvedor full stack, aprendendo: Desenvolvimento Front -end (o que o usuário vê), desenvolvimento Backend (a inteligência por trás dos sites e aplicativos sem  o usuário ver), banco de Dados (a parte de armazenamento de informações).\nO SQL é a linguagem de programação mais importante para trabalhar com grande volume de informações – os chamados Bancos de Dados, já que com o SQL, você consegue criar os Bancos de Dados, editar, extrair e analisar as informações desses Bancos de Dados das  empresas.\nPARTE 3:\nO Power Automate é uma ferramenta da Microsoft que permite automatizar tarefas e processos repetitivos sem a necessidade de programação. Ele se integra facilmente com uma ampla gama de serviços e aplicativos, facilitando a transferência e sincronização de dados. Com o Power Automate, você pode aumentar a eficiência e a produtividade, reduzir erros humanos e criar fluxos de trabalho personalizados para atender às necessidades específicas do seu negócio.\nO VBA é a linguagem de programação por trás dos programas do Microsoft Office: Word, Excel, PowerPoint e Outlook. Com essa linguagem, é possível criar códigos para automatizar tarefas realizadas em qualquer um desses programas, seja para automatizar a criação de documentos em word, envio de e -mails, automatizar apresentações no PowerPoint ou até mesmo fazer com que esses programas comuniquem-se entre si.\nJá o PowerPoint, é um programa para criação de apresentações. Ainda é o programa para criação de apresentações mais popular atualmente.\n14. AS FERRAMENTAS DOS CURSOS COMPLETOS SÃO GRATUITAS OU PAGAS?\nOpaaa, você pode ficar tranquilo que a grande maioria das ferramentas dos cursos da Comunidade Impressionadora são 100% gratuitas! Como o Power BI, Python, Power Automate, SQL, Power Apps, HTML & CSS e JavaScript.\nAs únicas ferramentas que não são gratuitas são o Excel e o PowePoint, onde seria necessário a assinatura do Pacote Office.\nMas no próprio site da Microsoft você encontra planos bem legais\nhttps://www.microsoft.com/pt-br/microsoft-365#Plans:\n15. PODE ME RESUMIR COMO SÃO TODOS OS CURSOS DA COMUNIDADE?\nAhh que maneiro seu interesse pelos nossos cursos! Vou te explicar um pouquinho mais sobre eles:\nVão desde o absoluto zero  até o nível avançado. Você não precisa ter nenhum conhecimento prévio para fazer as aulas. Tudo o que você precisa aprender você encontrará nos nossos cursos completos;\nAlém das aulas, você também terá acesso ao material didático completo, com muitos exercícios de cada módulo e certificado de conclusão.\nSuporte a dúvidas. Dentro da própria plataforma das aulas, você poderá enviar todas as suas dúvidas referentes as ferramentas e anexar vídeos, arquivos, planilhas e tabelas. Nossa equipe de experts terá o maior prazer em te ajudar.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        0,
        0
      ],
      "name": "AI Agent",
      "id": "ce11797c-bd3f-4fc5-a978-ad387989d35b"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        0,
        224
      ],
      "name": "Google Gemini Chat Model",
      "id": "5ec80058-5216-469e-bdb9-c83d94584366",
      "credentials": {
        "googlePalmApi": {
          "id": "HIarH8Kl92HeSbPL",
          "name": "Google Gemini(PaLM) Api account 2"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.threadId }}",
        "contextWindowLength": 25
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        208,
        224
      ],
      "name": "Simple Memory",
      "id": "58befae4-7801-4f9e-9569-16f0dd40037d"
    },
    {
      "parameters": {
        "operation": "reply",
        "messageId": "={{ $('Gmail Trigger').item.json.id }}\n",
        "message": "={{ $json.output }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.2,
      "position": [
        224,
        0
      ],
      "name": "Reply to Gmail",
      "id": "3d86087e-4697-4245-aa61-30267f798532",
      "webhookId": "7cc3e2bc-c5df-4aad-95d8-2e1f922ac74d",
      "credentials": {
        "gmailOAuth2": {
          "id": "9PZHqggup4fy0TFm",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1uhSZNQNlFrc5kzPWzAkYx2Q729Xbss7BmFIHFWhG4p0",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1uhSZNQNlFrc5kzPWzAkYx2Q729Xbss7BmFIHFWhG4p0/edit?gid=0#gid=0",
          "mode": "url"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "timestamp": "={{ $now }}",
            "from_email": "={{ $('Gmail Trigger').item.json.from.value[0].address }}",
            "thread_id": "={{ $('Gmail Trigger').item.json.threadId }}\n",
            "question": "={{ $('Gmail Trigger').item.json.text }}",
            "ai_response": "={{ $('AI Agent').item.json.output }}\n"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "timestamp",
              "displayName": "timestamp",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "from_email",
              "displayName": "from_email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "thread_id",
              "displayName": "thread_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "question",
              "displayName": "question",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_response",
              "displayName": "ai_response",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        432,
        0
      ],
      "id": "6a89cbbe-b2c9-4013-9dda-af13a61755cc",
      "name": "Append row in sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "GVbMrvHmjc0wOP2T",
          "name": "Google Sheets account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Gmail Trigger": {
      "main": [
        [
          {
            "node": "IF - Test Email Only",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "IF - Test Email Only": {
      "main": [
        [
          {
            "node": "IF - Valid Intent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "IF - Valid Intent": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Reply to Gmail",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Reply to Gmail": {
      "main": [
        [
          {
            "node": "Append row in sheet",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "binaryMode": "separate",
    "availableInMCP": false
  },
  "versionId": "0a0d8249-c1af-47e1-89f4-302a8657231b",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "0e2858350b9a1d719459fed2c9c182f04b742b3562e5cd0cc7cefaa58b7d9798"
  },
  "id": "EZpk587bzn-0_Q23myC3j",
  "tags": []
}